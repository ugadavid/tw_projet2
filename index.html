<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Questionnaire - Apprentissage des langues</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="index.css">
  
</head>

<body class="bg-light">
  <div class="container py-4">

    <!-- Header + composant Bootstrap (alert) -->
    <div class="d-flex align-items-center justify-content-between mb-3">
      <h1 class="h4 mb-0">Questionnaire : apprendre les langues</h1>

      <div class="d-flex gap-2">
        <span class="badge text-bg-secondary">HTML / CSS / jQuery / Bootstrap</span>
        <button id="btnHelp" type="button" class="btn btn-sm btn-outline-secondary">
          Explications
        </button>
      </div>
    </div>


    <div class="alert alert-info">
      Les questions apparaissent progressivement. √Ä la fin, cliquez sur <strong>V√©rifier</strong> pour afficher votre score.
    </div>

    <!-- Zone score -->
    <div id="resultBox" class="card mb-3 d-none">
      <div class="card-body">
        <div class="d-flex align-items-center justify-content-between">
          <div>
            <div class="fw-semibold">R√©sultat</div>
            <div id="scoreText" class="text-muted small">‚Äî</div>
          </div>
          <button id="btnReset" class="btn btn-sm btn-outline-secondary">R√©initialiser</button>
        </div>

        <div class="mt-3">
          <!-- composant Bootstrap (progress) -->
          <div class="progress" role="progressbar" aria-label="Score" aria-valuemin="0" aria-valuemax="100">
            <div id="scoreBar" class="progress-bar" style="width:0%">0%</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Questionnaire -->
    <form id="quizForm" class="vstack gap-3">

      <!-- Q1 (radio) -->
      <section class="card q-card" data-qid="1" data-type="radio" data-points="1" data-correct="b">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-start gap-2">
            <div>
              <div class="fw-semibold">Q1. √Ä quoi sert le "spaced repetition" ?</div>
              <div class="text-muted small">Choisissez une r√©ponse.</div>
            </div>
            <button type="button" class="btn btn-sm btn-outline-primary btn-show-answer" data-answer="Am√©liorer la m√©morisation en r√©visant au bon moment.">
              Voir la bonne r√©ponse
            </button>
          </div>

          <div class="mt-2">
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q1" value="a" id="q1a">
              <label class="form-check-label" for="q1a">Parler plus vite</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q1" value="b" id="q1b">
              <label class="form-check-label" for="q1b">Am√©liorer la m√©morisation en r√©visant au bon moment</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q1" value="c" id="q1c">
              <label class="form-check-label" for="q1c">Traduire mot √† mot</label>
            </div>
          </div>

          <div class="answer-box alert alert-secondary mt-3 mb-0"></div>
        </div>
      </section>

      <!-- Q2 (texte, normalisation espaces/casse/diacritiques) -->
      <section class="card q-card q-hidden" data-qid="2" data-type="text" data-points="1" data-correct="input" data-answers="input,entr√©e,comprehensible input">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-start gap-2">
            <div>
              <div class="fw-semibold">Q2. Compl√©tez : "Krashen parle de ‚Ä¶ compr√©hensible."</div>
              <div class="text-muted small">R√©ponse en un mot ou expression (ex: "input").</div>
            </div>
            <button type="button" class="btn btn-sm btn-outline-primary btn-show-answer" data-answer="R√©ponses attendues (exemples) : input / entr√©e (comprehensible input).">
              Voir la bonne r√©ponse
            </button>
          </div>

          <div class="mt-2">
            <input type="text" class="form-control" name="q2" placeholder="Votre r√©ponse‚Ä¶">
          </div>

          <div class="answer-box alert alert-secondary mt-3 mb-0"></div>
        </div>
      </section>

      <!-- Q3 (checkbox, partiel possible) -->
      <section class="card q-card q-hidden" data-qid="3" data-type="checkbox" data-points="2" data-correct="a,c,d">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-start gap-2">
            <div>
              <div class="fw-semibold">Q3. Quelles activit√©s d√©veloppent surtout la compr√©hension orale ?</div>
              <div class="text-muted small">Plusieurs r√©ponses possibles (score partiel).</div>
            </div>
            <button type="button" class="btn btn-sm btn-outline-primary btn-show-answer" data-answer="a, c, d">
              Voir la bonne r√©ponse
            </button>
          </div>

          <div class="mt-2">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="q3" value="a" id="q3a">
              <label class="form-check-label" for="q3a">√âcouter un podcast court</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="q3" value="b" id="q3b">
              <label class="form-check-label" for="q3b">√âcrire une dissertation</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="q3" value="c" id="q3c">
              <label class="form-check-label" for="q3c">Regarder une vid√©o avec sous-titres (puis sans)</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="q3" value="d" id="q3d">
              <label class="form-check-label" for="q3d">Faire un exercice de compr√©hension orale</label>
            </div>
          </div>

          <div class="answer-box alert alert-secondary mt-3 mb-0"></div>
        </div>
      </section>

      <!-- Q4 (radio) -->
      <section class="card q-card q-hidden" data-qid="4" data-type="radio" data-points="1" data-correct="b">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-start gap-2">
            <div>
              <div class="fw-semibold">Q4. Le CECRL (A1-C2) sert principalement √†‚Ä¶</div>
            </div>
            <button type="button" class="btn btn-sm btn-outline-primary btn-show-answer" data-answer="D√©crire des niveaux de comp√©tence (descripteurs) et guider l'√©valuation.">
              Voir la bonne r√©ponse
            </button>
          </div>

          <div class="mt-2">
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q4" value="a" id="q4a">
              <label class="form-check-label" for="q4a">Choisir une police de caract√®res</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q4" value="b" id="q4b">
              <label class="form-check-label" for="q4b">D√©crire des niveaux de comp√©tence et guider l'√©valuation</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q4" value="c" id="q4c">
              <label class="form-check-label" for="q4c">Traduire automatiquement un texte</label>
            </div>
          </div>

          <div class="answer-box alert alert-secondary mt-3 mb-0"></div>
        </div>
      </section>

      <!-- Q5 (texte) -->
      <section class="card q-card q-hidden" data-qid="5" data-type="text" data-points="1" data-correct="input" data-answers="input,entr√©e">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-start gap-2">
            <div>
              <div class="fw-semibold">Q5. Donnez un synonyme fran√ßais simple de "input" (en didactique).</div>
              <div class="text-muted small">Ex : "entr√©e".</div>
            </div>
            <button type="button" class="btn btn-sm btn-outline-primary btn-show-answer" data-answer="Entr√©e (exposition √† la langue).">
              Voir la bonne r√©ponse
            </button>
          </div>

          <div class="mt-2">
            <input type="text" class="form-control" name="q5" placeholder="Votre r√©ponse‚Ä¶">
          </div>

          <div class="answer-box alert alert-secondary mt-3 mb-0"></div>
        </div>
      </section>

      <!-- Q6 (checkbox, 2 bonnes, partiel possible) -->
      <section class="card q-card q-hidden" data-qid="6" data-type="checkbox" data-points="2" data-correct="b,d">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-start gap-2">
            <div>
              <div class="fw-semibold">Q6. Qu'est-ce qui aide souvent la prononciation ?</div>
              <div class="text-muted small">Plusieurs r√©ponses possibles.</div>
            </div>
            <button type="button" class="btn btn-sm btn-outline-primary btn-show-answer" data-answer="b, d">
              Voir la bonne r√©ponse
            </button>
          </div>

          <div class="mt-2">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="q6" value="a" id="q6a">
              <label class="form-check-label" for="q6a">Lire uniquement des r√®gles</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="q6" value="b" id="q6b">
              <label class="form-check-label" for="q6b">R√©p√©tition + feedback (shadowing, imitation)</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="q6" value="c" id="q6c">
              <label class="form-check-label" for="q6c">Traduire mot √† mot</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="q6" value="d" id="q6d">
              <label class="form-check-label" for="q6d">Enregistrer sa voix puis se r√©√©couter</label>
            </div>
          </div>

          <div class="answer-box alert alert-secondary mt-3 mb-0"></div>
        </div>
      </section>

      <!-- Q7 (radio) -->
      <section class="card q-card q-hidden" data-qid="7" data-type="radio" data-points="1" data-correct="c">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-start gap-2">
            <div>
              <div class="fw-semibold">Q7. La "charge cognitive" trop √©lev√©e peut‚Ä¶</div>
            </div>
            <button type="button" class="btn btn-sm btn-outline-primary btn-show-answer" data-answer="Rendre l'apprentissage moins efficace (surcharge).">
              Voir la bonne r√©ponse
            </button>
          </div>

          <div class="mt-2">
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q7" value="a" id="q7a">
              <label class="form-check-label" for="q7a">Acc√©l√©rer la m√©moire automatiquement</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q7" value="b" id="q7b">
              <label class="form-check-label" for="q7b">Am√©liorer la prononciation sans effort</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q7" value="c" id="q7c">
              <label class="form-check-label" for="q7c">Rendre l'apprentissage moins efficace</label>
            </div>
          </div>

          <div class="answer-box alert alert-secondary mt-3 mb-0"></div>
        </div>
      </section>

      <!-- Q8 (texte) -->
      <section class="card q-card q-hidden" data-qid="8" data-type="text" data-points="1" data-correct="feedback" data-answers="feedback,retour,retour d'information">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-start gap-2">
            <div>
              <div class="fw-semibold">Q8. Quel mot (anglais ou fran√ßais) d√©signe un "retour" apr√®s une r√©ponse ?</div>
              <div class="text-muted small">Ex : feedback.</div>
            </div>
            <button type="button" class="btn btn-sm btn-outline-primary btn-show-answer" data-answer="Feedback (retour / retour d'information).">
              Voir la bonne r√©ponse
            </button>
          </div>

          <div class="mt-2">
            <input type="text" class="form-control" name="q8" placeholder="Votre r√©ponse‚Ä¶">
          </div>

          <div class="answer-box alert alert-secondary mt-3 mb-0"></div>
        </div>
      </section>

      <!-- Q9 (checkbox) -->
      <section class="card q-card q-hidden" data-qid="9" data-type="checkbox" data-points="2" data-correct="a,b,c">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-start gap-2">
            <div>
              <div class="fw-semibold">Q9. Quelles strat√©gies sont plut√¥t m√©tacognitives ?</div>
              <div class="text-muted small">Plusieurs r√©ponses possibles.</div>
            </div>
            <button type="button" class="btn btn-sm btn-outline-primary btn-show-answer" data-answer="a, b, c">
              Voir la bonne r√©ponse
            </button>
          </div>

          <div class="mt-2">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="q9" value="a" id="q9a">
              <label class="form-check-label" for="q9a">Planifier sa s√©ance</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="q9" value="b" id="q9b">
              <label class="form-check-label" for="q9b">S'auto-√©valuer</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="q9" value="c" id="q9c">
              <label class="form-check-label" for="q9c">Se fixer un objectif</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="q9" value="d" id="q9d">
              <label class="form-check-label" for="q9d">Copier une traduction automatique</label>
            </div>
          </div>

          <div class="answer-box alert alert-secondary mt-3 mb-0"></div>
        </div>
      </section>

      <!-- Q10 (radio) -->
      <section class="card q-card q-hidden" data-qid="10" data-type="radio" data-points="1" data-correct="a">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-start gap-2">
            <div>
              <div class="fw-semibold">Q10. Un objectif "SMART" est‚Ä¶</div>
            </div>
            <button type="button" class="btn btn-sm btn-outline-primary btn-show-answer" data-answer="Sp√©cifique, Mesurable, Atteignable, R√©aliste, Temporel.">
              Voir la bonne r√©ponse
            </button>
          </div>

          <div class="mt-2">
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q10" value="a" id="q10a">
              <label class="form-check-label" for="q10a">Sp√©cifique, Mesurable, Atteignable, R√©aliste, Temporel</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q10" value="b" id="q10b">
              <label class="form-check-label" for="q10b">Simple, Minimal, Al√©atoire, Rapide, Total</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="q10" value="c" id="q10c">
              <label class="form-check-label" for="q10c">Surtout d√©coratif</label>
            </div>
          </div>

          <div class="answer-box alert alert-secondary mt-3 mb-0"></div>
        </div>
      </section>

      <!-- Bouton v√©rifier -->
      <div class="d-flex justify-content-end">
        <button id="btnCheck" type="button" class="btn btn-success">
          V√©rifier
        </button>
      </div>

    </form>

    <hr class="my-4">

    <!-- Page d'explications (simple) -->
    <div class="card">
      <div class="card-body">
        <h2 class="h6">√Ä propos (structure)</h2>
        <ul class="mb-0">
          <li>Les questions sont dans des <code>&lt;section&gt;</code> (cartes Bootstrap).</li>
          <li>Un √©v√©nement de r√©ponse (change/input) affiche la question suivante.</li>
          <li><strong>V√©rifier</strong> calcule le score, colore les cartes (faux/partiel/juste) et active "Voir la bonne r√©ponse".</li>
          <li>Pour les r√©ponses texte, une normalisation retire espaces, casse et diacritiques.</li>
        </ul>
      </div>
    </div>

  </div>

  <div id="helpOverlay" class="help-overlay d-none" aria-hidden="true">
    <div class="help-modal" role="dialog" aria-modal="true" aria-labelledby="helpTitle">
      <div class="help-header">
        <h2 id="helpTitle" class="h5 mb-0">Explications</h2>
        <button id="btnHelpClose" type="button" class="btn-close" aria-label="Fermer"></button>
      </div>

      <div class="help-body">
        <p class="mb-2">
          Ce questionnaire utilise <strong>jQuery</strong> pour g√©rer les √©v√©nements et <strong>Bootstrap</strong> pour la mise en forme.
          Les questions apparaissent au fur et √† mesure : au d√©part seule la Q1 est visible, et une r√©ponse (input / change)
          affiche la question suivante.
        </p>

        <h3 class="h6 mt-3">Fonctionnement</h3>
        <ul class="mb-2">
          <li><strong>Progression</strong> : d√®s qu'une question est "r√©pondue", on r√©v√®le la suivante.</li>
          <li><strong>V√©rifier</strong> : calcule le score total (absolu + %), colore chaque question (faux / partiel / juste).</li>
          <li><strong>Bonne r√©ponse</strong> : un bouton par question affiche une aide si besoin.</li>
        </ul>

        <h3 class="h6 mt-3">Traitements</h3>
        <ul class="mb-2">
          <li><strong>Texte</strong> : on ignore espaces, casse et diacritiques (ex: "Entr√©e" = "entree").</li>
          <li><strong>Checkbox</strong> : score partiel possible (bonnes cases coch√©es, p√©nalit√© l√©g√®re si erreurs).</li>
        </ul>

        <h3 class="h6 mt-3">Organisation du code</h3>
        <ul class="mb-2">
          <li><strong>AppMain</strong> : point d'entr√©e, instancie les modules.</li>
          <li><strong>UIHandlers</strong> : g√®re le DOM et les √©v√©nements d'interface (helper de nom, reset, etc.).</li>
          <li><strong>QuizManager</strong> : logique m√©tier (validation, calculs, ajout/suppression de lignes).</li>
          <li><strong>Utils</strong> : fonctions "pures" (normalisation texte, calculs score).</li>
          <li><strong>AppConfig</strong> : constantes, s√©lecteurs, param√®tres m√©tier.</li>
        </ul>

        <h3 class="h6 mt-3">Limites</h3>
        <ul class="mb-0">
          <li>Les r√©ponses "libres" acceptent une liste d'√©quivalents, mais pas toutes les formulations possibles.</li>
          <li>Et non, <em>"Bond, James Bond"</em> n'a toujours pas sa question d√©di√©e üòÑ</li>
        </ul>
      </div>

      <div class="help-footer">
        <button id="btnHelpOk" type="button" class="btn btn-primary">OK</button>
      </div>
    </div>
  </div>


  <!-- jQuery + Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!--script src="old_js.js"></script-->

  <script src="App/AppConfig.js"></script>
  <script src="App/Utils.js"></script>
  <script src="App/UIHandlers.js"></script>
  <script src="App/QuizManager.js"></script>
  <script src="App/AppMain.js"></script>
</body>
</html>
